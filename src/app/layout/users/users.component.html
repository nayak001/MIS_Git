<div [@routerTransition]>
    <!--<app-page-header [heading]="'Users'" [icon]="'fa-table'"></app-page-header>-->
    <div class="row">
        <div class="col col-xl-12 col-lg-12">
            <div class="card mb-3">
                <div class="card-header">
                    <div class="row">
                        <div class="col col-xl-4 col-lg-4">
                            <h4>USER DETAILS</h4>
                        </div>
                        <div class="col">
                            <!-- Working- use it -->
                            <!-- <div ngbDropdown class="d-inline-block dropdown">
                                <button class="btn btn-primary" ngbDropdownToggle><i class="fa fa-user-plus" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;Create New User</button>
                                <div ngbDropdownMenu>
                                    <button class="dropdown-item">Manager</button>
                                    <button class="dropdown-item">Anganwadi</button>
                                    <button class="dropdown-item">School</button>
                                    <button class="dropdown-item">Fellow</button>
                                </div>
                            </div> -->


                            <!-- <button (click)="open(content, null)" class="btn btn-sm btn-primary float-right" type="button"><i class="fa fa-user-plus" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;Create New User</button> -->
                            <button (click)="navigate_to_registrationpage(null)" class="btn btn-sm btn-primary float-right" type="button"><i class="fa fa-user-plus" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;Create New User</button>
                        </div>
                    </div>
                </div>
                <div class="card-body table-responsive">
                    <div id="loading_indicator" class="loading_indicator" [hidden]="hideLoading_indicator">
                        <span class=""><img src="assets/images/loader3.gif" alt="Loading. Please wait..." ></span>
                    </div>
                    <div class="row">
                        <div class="col col-lg-1 col-md-1 col-sm-1">
                            <i class="fa fa-search" aria-hidden="true"></i><span class="bold-font">&nbsp;Search</span>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <select value="{{selected_searchfilter}}" (change)="searchfilter_select_onchange($event)" class="form-control">
                                    <option value="username">Username</option>
                                    <option value="centername">Centername</option>
                                </select>
                            </div>														
                        </div>
                        <div class="col col-lg-8 col-md-8 col-sm-8">
                            <input type="text" (keyup)='search($event.target.value)'>
                        </div>
                    </div>
                    <table class="table table-striped" [mfData]="filterData" #mf="mfDataTable" [mfRowsOnPage]="10">
                        <thead>
                            <tr>
                                <th style="width: 90%">
                                    <mfDefaultSorter by="username">{{  data ? data.length : 0 }} Users</mfDefaultSorter>
                                </th>
                                <th style="width: 10%"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let user of mf.data">
                                <td>
                                    <div class="userdetail-card">
                                        <div class="row userdetail-card-titlebar">
                                            <div class="col col-lg-2 col-md-2 col-sm-2">
                                                <img src="{{ (user.image == undefined || user.image == null || user.image == '') ? './../../../../assets/images/default-user-profile-image.jpg' : user.image }}" onerror="this.onerror=null; this.src='./../../../../assets/images/default-user-profile-image.jpg'" class="profileimage" />
                                            </div>
                                            <div class="col col-lg-9 col-md-9 col-sm-9S">
                                                {{user.username | titlecase}}
                                            </div>
                                            <div class="col">
                                                <div class="row">
                                                    <div class="col col-xl-6 col-lg-6 btn-container">
                                                        <button (click)="navigate_to_registrationpage(user)" class="btn btn-primary input-block-level form-control edit-button" type="button"><i class="fa fa-pencil" aria-hidden="true"></i></button>
                                                    </div>
                                                    <div class="col col-xl-6 col-lg-6 btn-container">
                                                        <button type="button" class="btn btn-danger input-block-level form-control delete-button" (click)="deleteFormSubmitAction(user._id)"><i class="fa fa-trash" aria-hidden="true"></i></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row bold-font-subtitle">
                                            <div class="col col-lg-1 col-md-1 col-sm-1">ID</div>
                                            <div class="col">: {{user.userid}}</div>
                                        </div>
                                        <div class="row bold-font-subtitle">
                                            <div class="col col-lg-1 col-md-1 col-sm-1">Type</div>
                                            <div class="col">: {{user.usertype ? (user.usertype | titlecase) : 'NA'}}</div>
                                        </div>
                                        <div class="row bold-font-subtitle">
                                            <div class="col col-lg-1 col-md-1 col-sm-1">Gender</div>
                                            <div class="col">: {{user.gender ? (user.gender | titlecase) : 'NA'}}</div>
                                        </div>
                                        <div class="row bold-font-subtitle">
                                            <div class="col col-lg-1 col-md-1 col-sm-1">Phone</div>
                                            <div class="col">: {{user.contactnumber ? user.contactnumber : 'NA'}}</div>
                                        </div>
                                        <div class="row bold-font-subtitle">
                                            <div class="col col-lg-1 col-md-1 col-sm-1">Email</div>
                                            <div class="col">: {{user.emailid ? user.emailid : 'NA'}}</div>
                                        </div>
                                        <div class="row bold-font-subtitle">
                                            <div class="col col-lg-1 col-md-1 col-sm-1">Address</div>
                                            <div class="col">: {{user.permanentaddress ? user.permanentaddress : 'NA'}}</div>
                                        </div>
                                        <div class="row bold-font-subtitle">
                                            <div class="col col-lg-1 col-md-1 col-sm-1">Manager</div>
                                            <div class="col">: {{user.managername ? (user.managername | titlecase) : 'NA'}}</div>
                                        </div>
                                        <div class="row bold-font-subtitle">
                                            <div class="col col-lg-1 col-md-1 col-sm-1">Center</div>
                                            <div class="col">: {{user.centername ? (user.centername | titlecase) : 'NA'}}</div>
                                        </div>
                                        <div class="row bold-font-subtitle">
                                            <div class="col col-lg-1 col-md-1 col-sm-1">Block</div>
                                            <div class="col">: {{user.blockname ? (user.blockname | titlecase) : 'NA'}}</div>
                                        </div>
                                        <div class="row bold-font-subtitle">
                                            <div class="col col-lg-1 col-md-1 col-sm-1">District</div>
                                            <div class="col">: {{user.districtvalue ? (user.districtvalue | titlecase) : 'NA'}}</div>
                                        </div>
                                        <div class="row bold-font-subtitle">
                                            <div class="col col-lg-1 col-md-1 col-sm-1">State</div>
                                            <div class="col">: {{user.statevalue ? (user.statevalue | titlecase) : 'NA'}}</div>
                                        </div>
                                    </div>
                                </td>
                                <td></td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="4">
                                    <!-- <ngb-pagination (click)="getPageNo($event)" [collectionSize]="totalPage.count" [(page)]="page" [maxSize]="5" [rotate]="true" [boundaryLinks]="true"></ngb-pagination> -->
                                    <!--<mfBootstrapPaginator [rowsOnPageSet]="[5,10,25]"></mfBootstrapPaginator>-->
                                    <mfBootstrapPaginator></mfBootstrapPaginator> 
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>