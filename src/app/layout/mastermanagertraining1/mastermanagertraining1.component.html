<div [@routerTransition]>
    <!--<app-page-header [heading]="'Users'" [icon]="'fa-table'"></app-page-header>-->
    <div class="row">
        <div class="col col-xl-12 col-lg-12">
            <div class="card mb-3">
                <div class="card-header">
					<div class="row">
						<div class="col col-xl-8 col-lg-8">
							<h4>MANAGER TRAINING- MODULES/SUBMODULES</h4>
						</div>
					</div>					
				</div>

				<div class="card-body table-responsive">
					<div class="card-body">
						<ngb-tabset>
							<ngb-tab>
								<ng-template ngbTabTitle><b>MODULE</b></ng-template>
								<ng-template ngbTabContent>
									<div class="form-control">
										<div>
											<div class="row">
												<!-- <div class="col col-xl-8 col-lg-8">
													<input [(ngModel)]="modulename_tosave" type="text" placeholder="Module Name" class="form-control" />
												</div>
												<div class="col col-xl-4 col-lg-4">
													<button (click)="savemodule_btnclick()" class="btn btn-primary float-right">&nbsp;&nbsp;&nbsp;Save Module&nbsp;&nbsp;&nbsp;</button>
												</div> -->
												<button (click)="open(module_addmodal, null, 'add_module')" type="button" class="btn btn-primary float-right"><i class="fa fa-plus-square" aria-hidden="true">Add Module</i></button>
											</div>
										</div>
										<div class="scrl_div">
											<div class="loading_indicator" [hidden]="hideLoading_indicator1" >
												<span class=""><img src="assets/images/loader3.gif" alt="Loading. Please wait..." ></span>
											</div>
											<div class="row border_bottom" *ngFor="let module of allmodules_list; let i = index;">
												<div class="col col-xl-9 col-lg-9">
													{{ i+1 }}. {{ module.modulename | titlecase }}
												</div>
												<div class="col col-xl-3 col-lg-3">
													<div class="row">
														<div class="col col-xl-6 col-lg-6">
															<!-- edit button datatable -->
															<button (click)="open(module_editmodal, module, 'edit_module')" type="button" class="btn btn-primary input-block-level form-control edit-button"><i class="fa fa-pencil" aria-hidden="true"></i></button>
														</div>
														<div class="col col-xl-6 col-lg-6">
															<!-- delete button datatable -->
															<button (click)="open(module_deletemodal, module, 'delete_module')" type="button" class="btn btn-danger input-block-level form-control delete-button"><i class="fa fa-trash" aria-hidden="true"></i></button>
														</div>
													</div>
												</div>
											</div>
	
											<!-- Module part modal starts from here -->
											<ng-template #module_addmodal let-c="close" let-d="dismiss">
												<div class="modal-body">											
													<div class="row">
														<div class="col col-xl-3 col-lg-3">Module</div>
														<div class="col col-xl-9 col-lg-9">
															<input [(ngModel)]="modulename_tosave" type="text" placeholder="Module Name" class="form-control" />
														</div>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-default" (click)="c('Close click')">Cancel</button>
													<button type="button" class="btn btn-primary" (click)="savemodule_btnclick()">&nbsp;&nbsp;&nbsp;Save&nbsp;&nbsp;&nbsp;</button>
												</div>
											</ng-template>
											<ng-template #module_editmodal let-c="close" let-d="dismiss">
												<div class="modal-body">											
													<div class="row">
														<div class="col col-xl-12 col-lg-12">
															<input [(ngModel)]="modulename_toupdate" [value]="modulename_toupdate" type="text" placeholder="Module Name" class="form-control" />
														</div>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-default" (click)="c('Close click')">Cancel</button>
													<button type="button" class="btn btn-primary" (click)="updatemodule_btnclick()">&nbsp;&nbsp;&nbsp;Update&nbsp;&nbsp;&nbsp;</button>
												</div>
											</ng-template>
											<ng-template #module_deletemodal let-c="close" let-d="dismiss">
												<div class="modal-body">											
													<div class="row">
													<img src="assets/images/warning.png" class="warning-icon">											
													<span class="col col-xl-9 col-lg-9">Are you sure, you want to remove the records of {{ modulename_todelete }} !</span>									
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-default" (click)="c('Close click')">Cancel</button>
													<button type="button" class="btn btn-danger"   (click)="deletemodule_btnclick()">&nbsp;&nbsp;&nbsp;Delete&nbsp;&nbsp;&nbsp;</button>
												</div>
											</ng-template>
										</div>
									</div>
								</ng-template>
							</ngb-tab>
							<ngb-tab>
								<ng-template ngbTabTitle><b>SUB-MODULE</b></ng-template>
								<ng-template ngbTabContent>
									<div class="form-control">
										<div>
											<div class="row">
												<button (click)="open(submodule_addmodal, null, 'add_submodule')" type="button" class="btn btn-primary float-right"><i class="fa fa-plus-square" aria-hidden="true">Add Sub-module</i></button>
												<div class="col col-xl-4 col-lg-4">
													<select value="" (change)="onselect_modules_select($event)" class="form-control" placeholder="Manager">
														<option value="">Select module</option>
														<option *ngFor="let module of allmodules_list;" value="{{ module.moduleid }}">{{ module.modulename | titlecase }}</option>									
													</select>
												</div>
												<!-- <div class="col col-xl-4 col-lg-4">
													<input [(ngModel)]="submodulename_tosave" type="text" placeholder="Sub Module Name" class="form-control" />
												</div>
												<div class="col col-xl-4 col-lg-4">
													<button (click)="savesubmodule_btnclick()" class="btn btn-primary float-right">Save Submodule</button>
												</div> -->
											</div>
										</div>
										<div class="scrl_div">
											<div class="loading_indicator" [hidden]="hideLoading_indicator2" >
												<span class=""><img src="assets/images/loader3.gif" alt="Loading. Please wait..." ></span>
											</div>
											<div class="row border_bottom" *ngFor="let submodule of allsubmodules_list; let i = index;">
												<div class="col col-xl-9 col-lg-9">
													{{ i+1 }}. {{ submodule.submodulename | titlecase }}
												</div>
												<div class="col col-xl-3 col-lg-3">
													<div class="row">
														<div class="col col-xl-4 col-lg-4">
															<!-- edit button datatable -->
															<button (click)="go_to_content(submodule)" type="button" class="btn btn-primary input-block-level form-control edit-button"><i class="fa fa-calendar" aria-hidden="true"></i></button>
														</div>
														<div class="col col-xl-4 col-lg-4">
															<!-- edit button datatable -->
															<button (click)="open(submodule_editmodal, submodule, 'edit_submodule')" type="button" class="btn btn-primary input-block-level form-control edit-button"><i class="fa fa-pencil" aria-hidden="true"></i></button>
														</div>
														<div class="col col-xl-4 col-lg-4">
															<!-- delete button datatable -->
															<button (click)="open(submodule_deletemodal, submodule, 'delete_submodule')" type="button" class="btn btn-danger input-block-level form-control delete-button"><i class="fa fa-trash" aria-hidden="true"></i></button>
														</div>
													</div>
												</div>
											</div>
	
											<!-- Sub-module part modal starts from here -->
											<ng-template #submodule_addmodal let-c="close" let-d="dismiss">
												<div class="modal-body">											
													<div class="row">
														<div class="col col-xl-3 col-lg-3">Module</div>
														<div class="col col-xl-9 col-lg-9">{{ selected_submodule_modulename }}</div>
													</div>											
													<div class="row">
														<div class="col col-xl-3 col-lg-3">Sub-module</div>
														<div class="col col-xl-9 col-lg-9">
															<input [(ngModel)]="submodulename_tosave" type="text" placeholder="Sub Module Name" class="form-control" />
														</div>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-default" (click)="c('Close click')">Cancel</button>
													<button type="button" class="btn btn-primary" (click)="savesubmodule_btnclick()">&nbsp;&nbsp;&nbsp;Save&nbsp;&nbsp;&nbsp;</button>
												</div>
											</ng-template>
											<ng-template #submodule_editmodal let-c="close" let-d="dismiss">
												<div class="modal-body">											
													<div class="row">
														<div class="col col-xl-12 col-lg-12">
															<input [(ngModel)]="submodulename_toupdate" [value]="submodulename_toupdate" type="text" placeholder="Module Name" class="form-control" />
														</div>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-default" (click)="c('Close click')">Cancel</button>
													<button type="button" class="btn btn-primary" (click)="updatesubmodule_btnclick()">&nbsp;&nbsp;&nbsp;Update&nbsp;&nbsp;&nbsp;</button>
												</div>
											</ng-template>
											<ng-template #submodule_deletemodal let-c="close" let-d="dismiss">
												<div class="modal-body">											
													<div class="row">
													<img src="assets/images/warning.png" class="warning-icon">											
													<span class="col col-xl-9 col-lg-9">Are you sure, you want to remove the records of {{ submodulename_todelete }} !</span>									
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-default" (click)="c('Close click')">Cancel</button>
													<button type="button" class="btn btn-danger"  (click)="deletesubmodule_btnclick()">&nbsp;&nbsp;&nbsp;Delete&nbsp;&nbsp;&nbsp;</button>
												</div>
											</ng-template>
										</div>	
									</div>
								</ng-template>
							</ngb-tab>
						</ngb-tabset>
					</div>
				</div>
            </div>                       
        </div>        
    </div>
</div>
