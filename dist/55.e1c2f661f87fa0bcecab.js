(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{P4Xc:function(l,n,e){"use strict";e.r(n);var i=e("CcnG"),t=function(){return function(){}}(),u=e("pMnS"),o=e("Ip0R"),s=e("t/Na"),a=e("hjPZ"),c=e("cxbk"),d=e("PSD3"),p=e.n(d),r=function(){function l(l){this.managersboxService=l,this.baseUrl=c.a.baseUrl+"s3api/download/",this.data=[],this.total_file_count_str="",this.hideProgressbar=!0,this.hideLoading_indicator=!0,this.progress={percentage:0},this.displayname="",this.s3name="",this.filetype="",this.s3path="",this.hideProgressbar=!0,this.hideLoading_indicator=!0,this.getAllFromManagersBox()}return l.prototype.ngOnInit=function(){},l.prototype.getAllFromManagersBox=function(){var l=this;this.managersboxService.getAllFromManagersBox().subscribe(function(n){console.log("@@@data saved to db: "+JSON.stringify(n)),l.data=n,l.total_file_count_str="Total Files: "+l.data.length,l.hideLoading_indicator=!0},function(l){},function(){})},l.prototype.filechooser_onchange=function(l){l.target.files.length>0?(this.selectedFiles=l.target.files,this.displayname=l.target.files[0].name,this.filetype=this.displayname.split(".").pop(),this.s3name=(new Date).getTime()+"."+this.filetype,console.log("@@@Filename: "+l.target.files[0].name+"    filetype: "+this.filetype)):(this.displayname="",this.selectedFiles=null)},l.prototype.uploadfile_button_click=function(){var l=this;this.hideProgressbar=!1,this.progress.percentage=0,this.currentFileUpload=this.selectedFiles.item(0),console.log("###selectedFiles: "+JSON.stringify(this.selectedFiles)),this.managersboxService.pushFileToStorage(this.currentFileUpload,this.s3name).subscribe(function(n){console.log("$$$event: "+JSON.stringify(n)),n.type===s.f.UploadProgress?l.progress.percentage=Math.round(100*n.loaded/n.total):n instanceof s.j&&(l.s3path=n.body.s3path,console.log("File is completely uploaded!->"+l.s3path),l.hideProgressbar=!0,l.savetodb())})},l.prototype.savetodb=function(){var l=this;this.hideLoading_indicator=!1,this.managersboxService.uploadToManagersBox({displayname:this.displayname,s3name:this.s3name,filetype:this.filetype,s3path:this.s3path}).subscribe(function(n){console.log("@@@data saved to db: "+JSON.stringify(n)),l.getAllFromManagersBox(),l.hideLoading_indicator=!0,p.a.fire("Save","Level added "+n.status,"success"),l.resetall()},function(l){},function(){})},l.prototype.delete_button_click=function(l){var n=this;console.log("### filedata : "+JSON.stringify(l)),p.a.fire({title:"Are you sure?",text:"Do you want to delete this file?",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(function(e){e.value&&n.deletes3file(l)})},l.prototype.deletes3file=function(l){var n=this;this.hideLoading_indicator=!1,this.managersboxService.deleteFromStorage(l.s3name).subscribe(function(e){console.log("@@@s3 data delete: "+JSON.stringify(e)),n.managersboxService.deleteFromManagersBox(l._id).subscribe(function(l){console.log("@@@db data delete: "+JSON.stringify(l)),n.getAllFromManagersBox(),n.hideLoading_indicator=!0,p.a.fire("Save","File deletion "+l.status,"success"),n.resetall()},function(l){},function(){})},function(l){},function(){})},l.prototype.resetall=function(){this.hideProgressbar=!0,this.progress.percentage=0,this.selectedFiles=null,this.fileInputVariable.nativeElement.value=""},l}(),f=i["\u0275crt"]({encapsulation:0,styles:[[".file_preview_panel[_ngcontent-%COMP%]{background-color:#ececec;width:100%;float:right;height:420px;overflow-x:hidden;overflow-y:auto}.filechooser[_ngcontent-%COMP%]{font-size:14px;border:1px solid #dcd9d9}.fileuploadbutton[_ngcontent-%COMP%]{float:right}.total_file_count[_ngcontent-%COMP%]{font-weight:700;font-size:25px;color:#00f}.filelist_card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dcdcdc;margin:10px 15px;padding:10px;box-shadow:0 1px 0 0 grey}.bold_font[_ngcontent-%COMP%]{font-weight:700}.grey_font[_ngcontent-%COMP%]{color:#272727;font-size:10px}.iconsize[_ngcontent-%COMP%]{width:120px}"]],data:{animation:[{type:7,name:"routerTransition",definitions:[],options:{}}]}});function g(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","progress"]],[[8,"hidden",0]],null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,3,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["class","progress-bar progress-bar-info progress-bar-striped"],["role","progressbar"]],[[1,"aria-valuenow",0]],null,null,null,null)),i["\u0275did"](2,278528,null,0,o.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](3,{width:0}),(l()(),i["\u0275ted"](4,null,[" ","% "]))],function(l,n){var e=l(n,3,0,n.component.progress.percentage+"%");l(n,2,0,e)},function(l,n){var e=n.component;l(n,0,0,e.hideProgressbar),l(n,1,0,i["\u0275inlineInterpolate"](1,"",e.progress.percentage,"")),l(n,4,0,e.progress.percentage)})}function m(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,0,"img",[["alt","Image File"],["class","iconsize"],["src","assets/images/filetypeicons/filetype_bmp.png"]],null,null,null,null,null))],null,null)}function y(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,0,"img",[["alt","Video File"],["class","iconsize"],["src","assets/images/filetypeicons/filetype_avi.png"]],null,null,null,null,null))],null,null)}function h(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,0,"img",[["alt","Audio File"],["class","iconsize"],["src","assets/images/filetypeicons/filetype_mp3.png"]],null,null,null,null,null))],null,null)}function v(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,0,"img",[["alt","Pdf File"],["class","iconsize"],["src","assets/images/filetypeicons/filetype_pdf.png"]],null,null,null,null,null))],null,null)}function x(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,0,"img",[["alt","Doc File"],["class","iconsize"],["src","assets/images/filetypeicons/filetype_doc.png"]],null,null,null,null,null))],null,null)}function b(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,0,"img",[["alt","Excel File"],["class","iconsize"],["src","assets/images/filetypeicons/filetype_xls.png"]],null,null,null,null,null))],null,null)}function _(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,0,"img",[["alt","Ppt File"],["class","iconsize"],["src","assets/images/filetypeicons/filetype_ppt.png"]],null,null,null,null,null))],null,null)}function $(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,0,"img",[["alt","Text File"],["class","iconsize"],["src","assets/images/filetypeicons/filetype_txt.png"]],null,null,null,null,null))],null,null)}function w(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,0,"img",[["alt","Zip File"],["class","iconsize"],["src","assets/images/filetypeicons/filetype_zip.png"]],null,null,null,null,null))],null,null)}function I(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,32,"div",[],null,null,null,null,null)),(l()(),i["\u0275eld"](1,0,null,null,31,"div",[["class","row filelist_card"]],null,null,null,null,null)),(l()(),i["\u0275eld"](2,0,null,null,18,"div",[["class","col col-lg-3 col-md-3 col-sm-3"]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,m)),i["\u0275did"](4,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,y)),i["\u0275did"](6,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,h)),i["\u0275did"](8,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,v)),i["\u0275did"](10,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,x)),i["\u0275did"](12,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,b)),i["\u0275did"](14,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,_)),i["\u0275did"](16,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,$)),i["\u0275did"](18,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275and"](16777216,null,null,1,null,w)),i["\u0275did"](20,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](21,0,null,null,7,"div",[["class","col col-lg-7 col-md-7 col-sm-7"]],null,null,null,null,null)),(l()(),i["\u0275eld"](22,0,null,null,2,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),i["\u0275eld"](23,0,null,null,1,"span",[["class","bold_font"]],null,null,null,null,null)),(l()(),i["\u0275ted"](24,null,["",""])),(l()(),i["\u0275eld"](25,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),i["\u0275eld"](26,0,null,null,2,"span",[["class","grey_font"]],null,null,null,null,null)),(l()(),i["\u0275ted"](27,null,["",""])),i["\u0275ppd"](28,2),(l()(),i["\u0275eld"](29,0,null,null,3,"div",[["class","col col-lg-2 col-md-2 col-sm-2"]],null,null,null,null,null)),(l()(),i["\u0275eld"](30,0,null,null,2,"div",[["class","fileuploadbutton"]],null,null,null,null,null)),(l()(),i["\u0275eld"](31,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],function(l,n,e){var i=!0;return"click"===n&&(i=!1!==l.component.delete_button_click(l.context.$implicit)&&i),i},null,null)),(l()(),i["\u0275ted"](-1,null,["X"]))],function(l,n){l(n,4,0,"jpg"==n.context.$implicit.filetype||"jpeg"==n.context.$implicit.filetype||"png"==n.context.$implicit.filetype||"gif"==n.context.$implicit.filetype||"bmp"==n.context.$implicit.filetype||"ico"==n.context.$implicit.filetype||"tiff"==n.context.$implicit.filetype),l(n,6,0,"mpeg"==n.context.$implicit.filetype||"mpg"==n.context.$implicit.filetype||"mp4"==n.context.$implicit.filetype||"m4p"==n.context.$implicit.filetype||"3gp"==n.context.$implicit.filetype||"avi"==n.context.$implicit.filetype||"mov"==n.context.$implicit.filetype||"flv"==n.context.$implicit.filetype||"wmv"==n.context.$implicit.filetype||"webm"==n.context.$implicit.filetype),l(n,8,0,"mp3"==n.context.$implicit.filetype||"aac"==n.context.$implicit.filetype||"m4a"==n.context.$implicit.filetype||"wma"==n.context.$implicit.filetype||"rm"==n.context.$implicit.filetype||"aiff"==n.context.$implicit.filetype||"wav"==n.context.$implicit.filetype||"ogg"==n.context.$implicit.filetype),l(n,10,0,"pdf"==n.context.$implicit.filetype),l(n,12,0,"doc"==n.context.$implicit.filetype||"docx"==n.context.$implicit.filetype||"odt"==n.context.$implicit.filetype),l(n,14,0,"xls"==n.context.$implicit.filetype||"xlsx"==n.context.$implicit.filetype||"csv"==n.context.$implicit.filetype||"ods"==n.context.$implicit.filetype),l(n,16,0,"ppt"==n.context.$implicit.filetype||"pptx"==n.context.$implicit.filetype),l(n,18,0,"txt"==n.context.$implicit.filetype||"md"==n.context.$implicit.filetype||"css"==n.context.$implicit.filetype||"js"==n.context.$implicit.filetype||"ts"==n.context.$implicit.filetype||"htm"==n.context.$implicit.filetype||"html"==n.context.$implicit.filetype),l(n,20,0,"zip"==n.context.$implicit.filetype||"rar"==n.context.$implicit.filetype)},function(l,n){l(n,22,0,i["\u0275inlineInterpolate"](2,"",n.component.baseUrl,"",n.context.$implicit.s3name,"")),l(n,24,0,n.context.$implicit.displayname);var e=i["\u0275unv"](n,27,0,l(n,28,0,i["\u0275nov"](n.parent,0),n.context.$implicit.createdon,"medium"));l(n,27,0,e)})}function F(l){return i["\u0275vid"](0,[i["\u0275pid"](0,o.DatePipe,[i.LOCALE_ID]),i["\u0275qud"](402653184,1,{fileInputVariable:0}),(l()(),i["\u0275eld"](2,0,null,null,30,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(l()(),i["\u0275eld"](3,0,null,null,29,"div",[["class","row"]],null,null,null,null,null)),(l()(),i["\u0275eld"](4,0,null,null,28,"div",[["class","col col-xl-12 col-lg-12"]],null,null,null,null,null)),(l()(),i["\u0275eld"](5,0,null,null,27,"div",[["class","card mb-3"]],null,null,null,null,null)),(l()(),i["\u0275eld"](6,0,null,null,4,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),i["\u0275eld"](7,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),i["\u0275eld"](8,0,null,null,2,"div",[["class","col col-xl-4 col-lg-4"]],null,null,null,null,null)),(l()(),i["\u0275eld"](9,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),i["\u0275ted"](-1,null,["MANAGER'S BOX"])),(l()(),i["\u0275eld"](11,0,null,null,21,"div",[["class","card-body table-responsive"]],null,null,null,null,null)),(l()(),i["\u0275eld"](12,0,null,null,20,"div",[["class","row"]],null,null,null,null,null)),(l()(),i["\u0275eld"](13,0,null,null,11,"div",[["class","col col-lg-4 col-md-4 col-sm-4"]],null,null,null,null,null)),(l()(),i["\u0275eld"](14,0,null,null,8,"div",[["class","filechooser"]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,g)),i["\u0275did"](16,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["\u0275eld"](17,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),i["\u0275eld"](18,0,null,null,1,"label",[["class",""]],null,null,null,null,null)),(l()(),i["\u0275eld"](19,0,[[1,0],["fileInput",1]],null,0,"input",[["type","file"]],null,[[null,"change"]],function(l,n,e){var i=!0;return"change"===n&&(i=!1!==l.component.filechooser_onchange(e)&&i),i},null,null)),(l()(),i["\u0275eld"](20,0,null,null,2,"div",[["class","fileuploadbutton"]],null,null,null,null,null)),(l()(),i["\u0275eld"](21,0,null,null,1,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var i=!0;return"click"===n&&(i=!1!==l.component.uploadfile_button_click()&&i),i},null,null)),(l()(),i["\u0275ted"](-1,null,["Upload"])),(l()(),i["\u0275eld"](23,0,null,null,1,"div",[["class","total_file_count"]],null,null,null,null,null)),(l()(),i["\u0275ted"](24,null,[" "," "])),(l()(),i["\u0275eld"](25,0,null,null,7,"div",[["class","col col-lg-8 col-md-8 col-sm-8"]],null,null,null,null,null)),(l()(),i["\u0275eld"](26,0,null,null,6,"div",[["class","file_preview_panel"]],null,null,null,null,null)),(l()(),i["\u0275eld"](27,0,null,null,2,"div",[["class","loading_indicator"],["id","loading_indicator"]],[[8,"hidden",0]],null,null,null,null)),(l()(),i["\u0275eld"](28,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),i["\u0275eld"](29,0,null,null,0,"img",[["alt","Loading. Please wait..."],["src","assets/images/loader3.gif"]],null,null,null,null,null)),(l()(),i["\u0275eld"](30,0,null,null,2,"div",[["class","filelist_background"]],null,null,null,null,null)),(l()(),i["\u0275and"](16777216,null,null,1,null,I)),i["\u0275did"](32,278528,null,0,o.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,16,0,e.currentFileUpload),l(n,32,0,e.data)},function(l,n){var e=n.component;l(n,2,0,void 0),l(n,21,0,!e.selectedFiles),l(n,24,0,e.total_file_count_str),l(n,27,0,e.hideLoading_indicator)})}function C(l){return i["\u0275vid"](0,[(l()(),i["\u0275eld"](0,0,null,null,1,"app-managersbox",[],null,null,null,F,f)),i["\u0275did"](1,114688,null,0,r,[a.a],null,null)],function(l,n){l(n,1,0)},null)}var R=i["\u0275ccf"]("app-managersbox",r,C,{},{},[]),M=e("gIcY"),N=e("ZYCi"),S=function(){return function(){}}(),O=e("+Sv0"),P=e("kahr"),T=e("mu2n");e.d(n,"ManagersboxModuleNgFactory",function(){return z});var z=i["\u0275cmf"](t,[],function(l){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[u.a,R]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](4608,o.NgLocalization,o.NgLocaleLocalization,[i.LOCALE_ID,[2,o["\u0275angular_packages_common_common_a"]]]),i["\u0275mpd"](4608,M.v,M.v,[]),i["\u0275mpd"](4608,M.d,M.d,[]),i["\u0275mpd"](4608,a.a,a.a,[s.c]),i["\u0275mpd"](1073742336,o.CommonModule,o.CommonModule,[]),i["\u0275mpd"](1073742336,N.o,N.o,[[2,N.u],[2,N.l]]),i["\u0275mpd"](1073742336,S,S,[]),i["\u0275mpd"](1073742336,O.a,O.a,[]),i["\u0275mpd"](1073742336,P.DataTableModule,P.DataTableModule,[]),i["\u0275mpd"](1073742336,M.s,M.s,[]),i["\u0275mpd"](1073742336,M.g,M.g,[]),i["\u0275mpd"](1073742336,M.p,M.p,[]),i["\u0275mpd"](1073742336,T.c,T.c,[]),i["\u0275mpd"](1073742336,t,t,[]),i["\u0275mpd"](1024,N.j,function(){return[[{path:"",component:r}]]},[])])})}}]);